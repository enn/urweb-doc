<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Module Typing</TITLE>
<META NAME="description" CONTENT="Module Typing">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="manual.css">

<LINK REL="next" HREF="node24.html">
<LINK REL="previous" HREF="node22.html">
<LINK REL="up" HREF="node13.html">
<LINK REL="next" HREF="node24.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html451"
  HREF="node24.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="icons/next.png"></A> 
<A NAME="tex2html447"
  HREF="node13.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="icons/up.png"></A> 
<A NAME="tex2html441"
  HREF="node22.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="icons/prev.png"></A> 
<A NAME="tex2html449"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html452"
  HREF="node24.html">Module Projection</A>
<B> Up:</B> <A NAME="tex2html448"
  HREF="node13.html">Static Semantics</A>
<B> Previous:</B> <A NAME="tex2html442"
  HREF="node22.html">Signature Compatibility</A>
 &nbsp; <B>  <A NAME="tex2html450"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000610000000000000000">
Module Typing</A>
</H2>

<P>
We use a helper function <!-- MATH
 $\mathsf{sigOf}$
 -->
<IMG
 WIDTH="39" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img268.png"
 ALT="$ \mathsf{sigOf}$">
, which converts declarations and sequences of declarations into their principal signature items and sequences of signature items, respectively.

<P>
<P><!-- MATH
 \begin{displaymath}
\infer{\Gamma \vdash M : S}{
  \Gamma \vdash M : S'
  & \Gamma \vdash S' \leq S
}
\quad \infer{\Gamma \vdash \mathsf{struct} \; \overline{d} \; \mathsf{end} : \mathsf{sig} \; \mathsf{sigOf}(\overline{d}) \; \mathsf{end}}{
  \Gamma \vdash \overline{d} \leadsto \Gamma'
}
\quad \infer{\Gamma \vdash X : S}{
  X : S \in \Gamma
}
\end{displaymath}
 -->
</P>
<DIV ALIGN="CENTER">
<IMG
 WIDTH="496" HEIGHT="79" ALIGN="MIDDLE" BORDER="0"
 SRC="img269.png"
 ALT="$\displaystyle \infer{\Gamma \vdash M : S}{
\Gamma \vdash M : S'
&amp; \Gamma \vda...
...ne{d} \leadsto \Gamma'
}
\quad \infer{\Gamma \vdash X : S}{
X : S \in \Gamma
}$">
</DIV><P>
</P>

<P>
<P><!-- MATH
 \begin{displaymath}
\infer{\Gamma \vdash M.X : S}{
  \Gamma \vdash M : \mathsf{sig} \; \overline{s} \; \mathsf{end}
  & \mathsf{proj}(M, \overline{s}, \mathsf{structure} \; X) = S
}
\end{displaymath}
 -->
</P>
<DIV ALIGN="CENTER">
<IMG
 WIDTH="322" HEIGHT="76" ALIGN="MIDDLE" BORDER="0"
 SRC="img270.png"
 ALT="$\displaystyle \infer{\Gamma \vdash M.X : S}{
\Gamma \vdash M : \mathsf{sig} \;...
...; \mathsf{end}
&amp; \mathsf{proj}(M, \overline{s}, \mathsf{structure} \; X) = S
}$">
</DIV><P>
</P>

<P>
<P><!-- MATH
 \begin{displaymath}
\infer{\Gamma \vdash M_1(M_2) : [X \mapsto M_2]S_2}{
  \Gamma \vdash M_1 : \mathsf{functor}(X : S_1) : S_2
  & \Gamma \vdash M_2 : S_1
}
\quad \infer{\Gamma \vdash \mathsf{functor} (X : S_1) : S_2 = M : \mathsf{functor} (X : S_1) : S_2}{
  \Gamma \vdash S_1
  & \Gamma, X : S_1 \vdash S_2
  & \Gamma, X : S_1 \vdash M : S_2
}
\end{displaymath}
 -->
</P>
<DIV ALIGN="CENTER">
<IMG
 WIDTH="664" HEIGHT="78" ALIGN="MIDDLE" BORDER="0"
 SRC="img271.png"
 ALT="$\displaystyle \infer{\Gamma \vdash M_1(M_2) : [X \mapsto M_2]S_2}{
\Gamma \vda...
...ma \vdash S_1
&amp; \Gamma, X : S_1 \vdash S_2
&amp; \Gamma, X : S_1 \vdash M : S_2
}$">
</DIV><P>
</P>

<P>
<BR>
<DIV ALIGN="CENTER">
<!-- MATH
 \begin{eqnarray*}
\mathsf{sigOf}(\cdot) &=& \cdot \\
  \mathsf{sigOf}(s \; \overline{s'}) &=& \mathsf{sigOf}(s) \; \mathsf{sigOf}(\overline{s'}) \\
  \\
  \mathsf{sigOf}(\mathsf{con} \; x :: \kappa = c) &=& \mathsf{con} \; x :: \kappa = c \\
  \mathsf{sigOf}(\mathsf{datatype} \; x \; \overline{y} = \overline{dc}) &=& \mathsf{datatype} \; x \; \overline{y} = \overline{dc} \\
  \mathsf{sigOf}(\mathsf{datatype} \; x = \mathsf{datatype} \; M.z) &=& \mathsf{datatype} \; x = \mathsf{datatype} \; M.z \\
  \mathsf{sigOf}(\mathsf{val} \; x : \tau = e) &=& \mathsf{val} \; x : \tau \\
  \mathsf{sigOf}(\mathsf{val} \; \mathsf{rec} \; \overline{x : \tau = e}) &=& \overline{\mathsf{val} \; x : \tau} \\
  \mathsf{sigOf}(\mathsf{structure} \; X : S = M) &=& \mathsf{structure} \; X : S \\
  \mathsf{sigOf}(\mathsf{signature} \; X = S) &=& \mathsf{signature} \; X = S \\
  \mathsf{sigOf}(\mathsf{open} \; M) &=& \mathsf{include} \; S \textrm{ (where $\Gamma \vdash M : S$)} \\
  \mathsf{sigOf}(\mathsf{constraint} \; c_1 \sim c_2) &=& \mathsf{constraint} \; c_1 \sim c_2 \\
  \mathsf{sigOf}(\mathsf{open} \; \mathsf{constraints} \; M) &=& \cdot \\
  \mathsf{sigOf}(\mathsf{table} \; x : c) &=& \mathsf{table} \; x : c \\
  \mathsf{sigOf}(\mathsf{view} \; x = e) &=& \mathsf{view} \; x : c \textrm{ (where $\Gamma \vdash e : \mathsf{Basis}.\mathsf{sql\_query} \; [] \; [] \; (\mathsf{map} \; (\lambda \_ \Rightarrow []) \; c') \; c$)} \\
  \mathsf{sigOf}(\mathsf{sequence} \; x) &=& \mathsf{sequence} \; x \\
  \mathsf{sigOf}(\mathsf{cookie} \; x : \tau) &=& \mathsf{cookie} \; x : \tau \\
  \mathsf{sigOf}(\mathsf{style} \; x) &=& \mathsf{style} \; x
\end{eqnarray*}
 -->
<TABLE CELLPADDING="0" ALIGN="CENTER" WIDTH="100%">
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="56" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img272.png"
 ALT="$\displaystyle \mathsf{sigOf}(\cdot)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="8" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img274.png"
 ALT="$\displaystyle \cdot$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="76" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img275.png"
 ALT="$\displaystyle \mathsf{sigOf}(s \; \overline{s'})$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="124" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img276.png"
 ALT="$\displaystyle \mathsf{sigOf}(s) \; \mathsf{sigOf}(\overline{s'})$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD>&nbsp;</TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="144" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img277.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{con} \; x :: \kappa = c)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="96" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img278.png"
 ALT="$\displaystyle \mathsf{con} \; x :: \kappa = c$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="172" HEIGHT="38" ALIGN="MIDDLE" BORDER="0"
 SRC="img279.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{datatype} \; x \; \overline{y} = \overline{dc})$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="124" HEIGHT="38" ALIGN="MIDDLE" BORDER="0"
 SRC="img280.png"
 ALT="$\displaystyle \mathsf{datatype} \; x \; \overline{y} = \overline{dc}$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="235" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img281.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{datatype} \; x = \mathsf{datatype} \; M.z)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="187" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img282.png"
 ALT="$\displaystyle \mathsf{datatype} \; x = \mathsf{datatype} \; M.z$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="135" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img283.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{val} \; x : \tau = e)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="58" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img284.png"
 ALT="$\displaystyle \mathsf{val} \; x : \tau$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="159" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img285.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{val} \; \mathsf{rec} \; \overline{x : \tau = e})$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="58" HEIGHT="38" ALIGN="MIDDLE" BORDER="0"
 SRC="img286.png"
 ALT="$\displaystyle \overline{\mathsf{val} \; x : \tau}$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="192" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img287.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{structure} \; X : S = M)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="106" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img288.png"
 ALT="$\displaystyle \mathsf{structure} \; X : S$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="163" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img289.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{signature} \; X = S)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="115" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img290.png"
 ALT="$\displaystyle \mathsf{signature} \; X = S$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="105" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img291.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{open} \; M)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="199" HEIGHT="33" ALIGN="MIDDLE" BORDER="0"
 SRC="img292.png"
 ALT="$\displaystyle \mathsf{include} \; S \textrm{ (where $\Gamma \vdash M : S$)}$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="171" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img293.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{constraint} \; c_1 \sim c_2)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="124" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img294.png"
 ALT="$\displaystyle \mathsf{constraint} \; c_1 \sim c_2$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="182" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img295.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{open} \; \mathsf{constraints} \; M)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="8" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img274.png"
 ALT="$\displaystyle \cdot$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="118" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img296.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{table} \; x : c)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="70" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img297.png"
 ALT="$\displaystyle \mathsf{table} \; x : c$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="123" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img298.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{view} \; x = e)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="444" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img299.png"
 ALT="$\displaystyle \mathsf{view} \; x : c \textrm{ (where $\Gamma \vdash e : \mathsf...
...ery} \; [] \; [] \; (\mathsf{map} \; (\lambda \_ \Rightarrow []) \; c') \; c$)}$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="124" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img300.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{sequence} \; x)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="76" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img301.png"
 ALT="$\displaystyle \mathsf{sequence} \; x$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="129" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img302.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{cookie} \; x : \tau)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="81" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img303.png"
 ALT="$\displaystyle \mathsf{cookie} \; x : \tau$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="95" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img304.png"
 ALT="$\displaystyle \mathsf{sigOf}(\mathsf{style} \; x)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="47" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img305.png"
 ALT="$\displaystyle \mathsf{style} \; x$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL">

<BR>
<DIV ALIGN="CENTER">
<!-- MATH
 \begin{eqnarray*}
\mathsf{selfify}(M, \cdot) &=& \cdot \\
  \mathsf{selfify}(M, s \; \overline{s'}) &=& \mathsf{selfify}(M, s) \; \mathsf{selfify}(M, \overline{s'}) \\
  \\
  \mathsf{selfify}(M, \mathsf{con} \; x :: \kappa) &=& \mathsf{con} \; x :: \kappa = M.x \\
  \mathsf{selfify}(M, \mathsf{con} \; x :: \kappa = c) &=& \mathsf{con} \; x :: \kappa = c \\
  \mathsf{selfify}(M, \mathsf{datatype} \; x \; \overline{y} = \overline{dc}) &=& \mathsf{datatype} \; x \; \overline{y} = \mathsf{datatype} \; M.x \\
  \mathsf{selfify}(M, \mathsf{datatype} \; x = \mathsf{datatype} \; M'.z) &=& \mathsf{datatype} \; x = \mathsf{datatype} \; M'.z \\
  \mathsf{selfify}(M, \mathsf{val} \; x : \tau) &=& \mathsf{val} \; x : \tau \\
  \mathsf{selfify}(M, \mathsf{structure} \; X : S) &=& \mathsf{structure} \; X : \mathsf{selfify}(M.X, \overline{s}) \textrm{ (where $\Gamma \vdash S \equiv \mathsf{sig} \; \overline{s} \; \mathsf{end}$)} \\
  \mathsf{selfify}(M, \mathsf{signature} \; X = S) &=& \mathsf{signature} \; X = S \\
  \mathsf{selfify}(M, \mathsf{include} \; S) &=& \mathsf{include} \; S \\
  \mathsf{selfify}(M, \mathsf{constraint} \; c_1 \sim c_2) &=& \mathsf{constraint} \; c_1 \sim c_2 \\
  \mathsf{selfify}(M, \mathsf{class} \; x :: \kappa) &=& \mathsf{class} \; x :: \kappa = M.x \\
  \mathsf{selfify}(M, \mathsf{class} \; x :: \kappa = c) &=& \mathsf{class} \; x :: \kappa = c \\
\end{eqnarray*}
 -->
<TABLE CELLPADDING="0" ALIGN="CENTER" WIDTH="100%">
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="82" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img306.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \cdot)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="8" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img274.png"
 ALT="$\displaystyle \cdot$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="101" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img307.png"
 ALT="$\displaystyle \mathsf{selfify}(M, s \; \overline{s'})$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="175" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img308.png"
 ALT="$\displaystyle \mathsf{selfify}(M, s) \; \mathsf{selfify}(M, \overline{s'})$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT">&nbsp;</TD>
<TD>&nbsp;</TD>
<TD>&nbsp;</TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="141" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img309.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{con} \; x :: \kappa)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="119" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img310.png"
 ALT="$\displaystyle \mathsf{con} \; x :: \kappa = M.x$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="169" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img311.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{con} \; x :: \kappa = c)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="96" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img278.png"
 ALT="$\displaystyle \mathsf{con} \; x :: \kappa = c$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="198" HEIGHT="38" ALIGN="MIDDLE" BORDER="0"
 SRC="img312.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{datatype} \; x \; \overline{y} = \overline{dc})$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="201" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img313.png"
 ALT="$\displaystyle \mathsf{datatype} \; x \; \overline{y} = \mathsf{datatype} \; M.x$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="266" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img314.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{datatype} \; x = \mathsf{datatype} \; M'.z)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="192" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img315.png"
 ALT="$\displaystyle \mathsf{datatype} \; x = \mathsf{datatype} \; M'.z$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="132" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img316.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{val} \; x : \tau)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="58" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img284.png"
 ALT="$\displaystyle \mathsf{val} \; x : \tau$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="179" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img317.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{structure} \; X : S)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="376" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img318.png"
 ALT="$\displaystyle \mathsf{structure} \; X : \mathsf{selfify}(M.X, \overline{s}) \te...
... (where $\Gamma \vdash S \equiv \mathsf{sig} \; \overline{s} \; \mathsf{end}$)}$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="188" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img319.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{signature} \; X = S)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="115" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img290.png"
 ALT="$\displaystyle \mathsf{signature} \; X = S$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="139" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img320.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{include} \; S)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="65" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img321.png"
 ALT="$\displaystyle \mathsf{include} \; S$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="197" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img322.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{constraint} \; c_1 \sim c_2)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="124" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img294.png"
 ALT="$\displaystyle \mathsf{constraint} \; c_1 \sim c_2$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="149" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img323.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{class} \; x :: \kappa)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="126" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img324.png"
 ALT="$\displaystyle \mathsf{class} \; x :: \kappa = M.x$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
<TR VALIGN="MIDDLE"><TD NOWRAP ALIGN="RIGHT"><IMG
 WIDTH="177" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img325.png"
 ALT="$\displaystyle \mathsf{selfify}(M, \mathsf{class} \; x :: \kappa = c)$"></TD>
<TD WIDTH="10" ALIGN="CENTER" NOWRAP><IMG
 WIDTH="16" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img273.png"
 ALT="$\displaystyle =$"></TD>
<TD ALIGN="LEFT" NOWRAP><IMG
 WIDTH="103" HEIGHT="30" ALIGN="MIDDLE" BORDER="0"
 SRC="img326.png"
 ALT="$\displaystyle \mathsf{class} \; x :: \kappa = c$"></TD>
<TD WIDTH=10 ALIGN="RIGHT">
&nbsp;</TD></TR>
</TABLE></DIV>
<BR CLEAR="ALL">

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html451"
  HREF="node24.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="icons/next.png"></A> 
<A NAME="tex2html447"
  HREF="node13.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="icons/up.png"></A> 
<A NAME="tex2html441"
  HREF="node22.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="icons/prev.png"></A> 
<A NAME="tex2html449"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html452"
  HREF="node24.html">Module Projection</A>
<B> Up:</B> <A NAME="tex2html448"
  HREF="node13.html">Static Semantics</A>
<B> Previous:</B> <A NAME="tex2html442"
  HREF="node22.html">Signature Compatibility</A>
 &nbsp; <B>  <A NAME="tex2html450"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>

2014-07-14
</ADDRESS>
</BODY>
</HTML>
